$.JTranslator=function(n){function a(n,a,t,o){var e=!1;if("select"==n){for(var i in o)-1!=a.indexOf(o[i])&&($("option[value='"+i+"']","select.langSwitch").prop("selected",!0),e=!0);e||$("option[value='"+t+"']","select.langSwitch").prop("selected",!0)}else{for(var i in o)-1!=a.indexOf(o[i])&&($(n+"[lg="+i+"]").addClass("active"),e=!0);e||$(n+"[lg="+i+"]").addClass("active")}}function t(n,a,t,o,e,i){for(var l in o){$rootPath=n.split(a)[0]+a,$checkPath=n.split(a)[1];for(var r in o[l]){if("#"==o[l][e])return"#";if($checkPath===o[l][r])return $rootPath+o[l][e];if($checkPath==="/"+o[l][r])return $rootPath+"/"+o[l][e]}}for(var l in t)if(-1!=n.indexOf(t[l]))return l!=e?n.replace(t[l],i):n;return n}var o={$root:"",$defaultOption:"en",$langSwitchNode:"a",$langVar:{tw:"/ch/",en:"/eng/"},$customPage:{}};n=$.extend(o,n),a(n.$langSwitchNode,window.location.href,n.$defaultOption,n.$langVar),$("a").click(function(){return void 0!==$(this).attr("lg")&&($lang=$(this).attr("lg"),newlocation=t(window.location.href,n.$root,n.$langVar,n.$customPage,$lang,n.$langVar[$lang]),"#"!=newlocation)?(window.location=newlocation,!1):void 0}),$("select.langSwitch").on("change",function(){return"#"!=$(this).val()&&($lang=$(this).val(),newlocation=t(window.location.href,n.$root,n.$langVar,n.$customPage,$lang,n.$langVar[$lang]),"#"!=newlocation)?(window.location=newlocation,!1):void 0})};